(()=>{var e={};e.id=235,e.ids=[235],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},9145:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l}),r(2013),r(9030),r(546);var s=r(170),a=r(5002),i=r(3876),o=r.n(i),n=r(6299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l=["",{children:["auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2013)),"/home/mahmoud-waleed/Downloads/waqeak-connect-hub-main/app/auth/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9030)),"/home/mahmoud-waleed/Downloads/waqeak-connect-hub-main/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,546)),"/home/mahmoud-waleed/Downloads/waqeak-connect-hub-main/app/not-found.tsx"]}],c=["/home/mahmoud-waleed/Downloads/waqeak-connect-hub-main/app/auth/page.tsx"],u="/auth/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/auth/page",pathname:"/auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2304:(e,t,r)=>{Promise.resolve().then(r.bind(r,8517))},8517:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(7247),a=r(8964),i=r(4178),o=r(8437),n=r(8852),d=r(5426),l=r(1740),c=r(5757),u=r(7818);let m=(0,r(6323).Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var p=r(457);let h=async()=>{try{let{data:{user:e}}=await o.O.auth.getUser();if(!e)return!1;let{data:t,error:r}=await o.O.from("user_roles").select("id").eq("role","admin").limit(1);if(r)throw r;if(!t||0===t.length){let{error:t}=await o.O.from("user_roles").insert({user_id:e.id,role:"admin"});if(t)throw t;return console.log("First admin assigned successfully"),!0}return!1}catch(e){return console.error("Error auto-assigning admin:",e),!1}},f=r(2243).Z_().min(8,{message:"كلمة المرور يجب أن تتكون من 8 أحرف على الأقل"}).regex(/[A-Z]/,{message:"كلمة المرور يجب أن تحتوي على حرف كبير واحد على الأقل"}).regex(/[a-z]/,{message:"كلمة المرور يجب أن تحتوي على حرف صغير واحد على الأقل"}).regex(/[0-9]/,{message:"كلمة المرور يجب أن تحتوي على رقم واحد على الأقل"});function x(){let[e,t]=(0,a.useState)(!0),[r,x]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[N,k]=(0,a.useState)(""),_=(0,i.useRouter)(),q=async t=>{if(t.preventDefault(),k(""),!e){let e=f.safeParse(g);if(!e.success){k(e.error.errors[0].message);return}}j(!0);try{if(e){let{error:e}=await o.O.auth.signInWithPassword({email:r,password:g});if(e)throw e;await h()&&await new Promise(e=>setTimeout(e,500)),u.Am.success("تم تسجيل الدخول بنجاح"),_.push("/dashboard")}else{let{error:e}=await o.O.auth.signUp({email:r,password:g,options:{emailRedirectTo:`${window.location.origin}/dashboard`}});if(e)throw e;await h()&&await new Promise(e=>setTimeout(e,500)),u.Am.success("تم إنشاء الحساب بنجاح"),_.push("/dashboard")}}catch(e){u.Am.error(e.message||"حدث خطأ ما")}finally{j(!1)}};return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,s.jsxs)(c.Zb,{className:"w-full max-w-md",children:[(0,s.jsxs)(c.Ol,{className:"space-y-1",children:[s.jsx(c.ll,{className:"text-2xl text-center",children:e?"تسجيل الدخول":"إنشاء حساب جديد"}),s.jsx(c.SZ,{className:"text-center",children:e?"أدخل بياناتك للوصول إلى لوحة التحكم":"أدخل بياناتك لإنشاء حساب جديد"})]}),(0,s.jsxs)(c.aY,{children:[(0,s.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l._,{htmlFor:"email",children:"البريد الإلكتروني"}),s.jsx(d.I,{id:"email",type:"email",placeholder:"example@email.com",value:r,onChange:e=>x(e.target.value),required:!0,dir:"ltr"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(l._,{htmlFor:"password",children:"كلمة المرور"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(d.I,{id:"password",type:v?"text":"password",placeholder:"••••••••",value:g,onChange:e=>b(e.target.value),required:!0,dir:"ltr"}),s.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:v?s.jsx(m,{size:18}):s.jsx(p.Z,{size:18})})]}),N&&s.jsx("p",{className:"text-sm text-destructive",children:N}),!e&&!N&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"يجب أن تحتوي على 8 أحرف، حرف كبير، حرف صغير، ورقم"})]}),s.jsx(n.z,{type:"submit",className:"w-full",disabled:w,children:w?"جاري التحميل...":e?"تسجيل الدخول":"إنشاء حساب"})]}),s.jsx("div",{className:"mt-4 text-center text-sm",children:s.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-primary hover:underline",children:e?"ليس لديك حساب؟ إنشاء حساب جديد":"لديك حساب؟ تسجيل الدخول"})})]})]})})}},457:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6323).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8852:(e,t,r)=>{"use strict";r.d(t,{d:()=>d,z:()=>l});var s=r(7247),a=r(8964),i=r(9008),o=r(7972),n=r(677);let d=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-gradient-primary text-primary-foreground hover:shadow-glow transform hover:scale-105 transition-all duration-300 border-0 shadow-elegant"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...o},l)=>{let c=a?i.g7:"button";return s.jsx(c,{className:(0,n.cn)(d({variant:t,size:r,className:e})),ref:l,...o})});l.displayName="Button"},5757:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>n,SZ:()=>l,Zb:()=>o,aY:()=>c,ll:()=>d});var s=r(7247),a=r(8964),i=r(677);let o=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let n=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},5426:(e,t,r)=>{"use strict";r.d(t,{I:()=>o});var s=r(7247),a=r(8964),i=r(677);let o=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));o.displayName="Input"},1740:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var s=r(7247),a=r(8964),i=r(768),o=r(7972),n=r(677);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...t},r)=>s.jsx(i.f,{ref:r,className:(0,n.cn)(d(),e),...t}));l.displayName=i.f.displayName},8437:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});let s=(0,r(7524).eI)("https://xhsdrasgednxnuqchgub.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhoc2RyYXNnZWRueG51cWNoZ3ViIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkxNjk1OTgsImV4cCI6MjA3NDc0NTU5OH0.X_VFeV6CkuFOojDI6HJv80aPe0UvZtLduESaxLhyrcA",{auth:{storage:void 0,persistSession:!0,autoRefreshToken:!0}})},2013:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(5347).createProxy)(String.raw`/home/mahmoud-waleed/Downloads/waqeak-connect-hub-main/app/auth/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[787,942,323,641,759],()=>r(9145));module.exports=s})();